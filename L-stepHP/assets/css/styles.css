/* Base */
:root{
  --charcoal:#1B1F24; --mist:#EEF2F1; --celadon:#88B4A1; --lake:#5AA0C8;
  --text:#1F2937; --text-weak:#6B7280; --headline:#0F172A;
  --accent: var(--celadon);
  --bg:#ffffff; --surface:#ffffff; --surface-2:#F6F8F8; --line:#E5E7EB;
  --ease: cubic-bezier(.2,.8,.2,1);
  --t-fast: 80ms; --t-mid: 300ms; --t-slow: 1200ms;
  --radius-s: 10px; --radius-m: 14px;
}
* { box-sizing: border-box; }
html { -webkit-text-size-adjust: 100%; }
body {
  margin: 0; line-height: 1.7;
  font-family: "Noto Sans JP", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Hiragino Kaku Gothic ProN", "Yu Gothic", Meiryo, Arial, sans-serif;
  color: var(--text); background: var(--bg);
  text-rendering: optimizeLegibility; -webkit-font-smoothing: antialiased;
  position: relative;
}
body::before{ /* subtle paper/texture */
  content:""; position: fixed; inset:0; pointer-events:none; z-index:0;
  background-image: radial-gradient(rgba(0,0,0,.08) 1px, transparent 1.5px), radial-gradient(rgba(0,0,0,.04) 1px, transparent 1.5px);
  background-size: 3px 3px, 4px 4px; opacity:.01; mix-blend-mode: multiply;
}
h1,h2,h3 { font-family: "Zen Kaku Gothic New", "Noto Sans JP", system-ui, sans-serif; letter-spacing: .01em; color: var(--headline); font-weight: 900; }
.container { max-width: 1100px; margin: 0 auto; padding: 0 20px; position: relative; z-index:1; }

/* Header */
.site-header { position: sticky; top: 0; z-index: 10; backdrop-filter: blur(8px); background: rgba(255,255,255,.92); border-bottom: 1px solid var(--line); }
.site-header .container { display: flex; align-items: center; justify-content: space-between; height: 64px; }
.brand .logo { font-weight: 700; font-size: 1.1rem; margin-right: 12px; color: var(--headline); }
.brand .tagline { color: var(--text-weak); font-size: 0.9rem; }
.badge{ display:inline-block; margin-left:10px; padding:4px 8px; border-radius:999px; font-size:.75rem; font-weight:700; letter-spacing:.02em; }
.badge-ota{ color:#0B0F19; background: linear-gradient(135deg, var(--celadon), var(--lake)); box-shadow: 0 4px 14px rgba(90,160,200,.25); }
.nav a { position:relative; margin-left: 16px; text-decoration: none; color: var(--text); opacity:.9; }
.nav a::after{ content:""; position:absolute; left:0; right:0; bottom:-6px; height:2px; background: linear-gradient(90deg, var(--celadon), var(--lake)); transform: scaleX(0); transform-origin: 0 50%; transition: transform var(--t-mid) var(--ease); opacity:.85; }
.nav a:hover{ opacity:1; }
.nav a:hover::after{ transform: scaleX(1); }
.nav .btn { margin-left: 16px; }

/* Buttons */
.btn { position:relative; overflow:hidden; display: inline-block; padding: 12px 18px; border-radius: var(--radius-s); font-weight: 700; text-decoration: none; border: 1px solid transparent; transition: transform var(--t-fast) var(--ease), filter var(--t-fast) var(--ease); }
.btn:active{ transform: translateY(1px) scale(.99); }
.btn::after{ content:""; position:absolute; width:0;height:0;border-radius:50%; left:var(--rx,50%); top:var(--ry,50%); transform:translate(-50%,-50%); background: radial-gradient(circle, rgba(255,255,255,.35), transparent 60%); transition: width .6s var(--ease), height .6s var(--ease), opacity .6s var(--ease); opacity:0; }
.btn.is-rippling::after{ width:220px; height:220px; opacity:1; }
.btn-primary { color: #ffffff; background: linear-gradient(135deg, var(--celadon), var(--lake)); box-shadow: 0 8px 24px rgba(90,160,200,.25); }
.btn-primary:hover { filter: brightness(1.05); }
.btn-outline { color: var(--headline); background: linear-gradient(#ffffff,#ffffff) padding-box, linear-gradient(135deg, rgba(136,180,161,.9), rgba(90,160,200,.9)) border-box; border: 1px solid transparent; }

/* Hero */
.hero { position:relative; padding: 96px 0 56px; background: linear-gradient(180deg, #ffffff 0%, #F7FAF9 100%); overflow:hidden; isolation:isolate; }
.hero-video{ position:absolute; inset:-2% -2% -2% -2%; width:104%; height:104%; object-fit:cover; opacity:.18; filter: contrast(105%) saturate(105%) blur(.5px); z-index:0; }
@media (prefers-reduced-motion: reduce){ .hero-video{ display:none; } }
.hero h1 { font-size: clamp(28px, 6vw, 56px); margin: 0 0 12px; color: var(--headline); }
.hero p { color: #4B5563; margin: 0 0 20px; }
.hero .cta a { margin-right: 12px; }
.steam{ position:absolute; inset:-5% -5% 0 -5%; pointer-events:none; opacity:.06; mix-blend-mode:multiply; background: radial-gradient(60% 30% at 20% 10%, rgba(0,0,0,.06), transparent 60%), radial-gradient(40% 25% at 80% 20%, rgba(0,0,0,.04), transparent 60%), radial-gradient(50% 30% at 60% 80%, rgba(0,0,0,.03), transparent 60%); animation: steam 18s ease-in-out infinite alternate; }
@keyframes steam { 0%{ transform:translateY(0) } 100%{ transform:translateY(-3%) scale(1.02) } }
.hero-glint{ position:absolute; left:6vw; right:6vw; bottom:10vh; height:1px; background: linear-gradient(90deg, transparent, rgba(136,180,161,.6), rgba(90,160,200,.6), transparent); filter: blur(.2px); opacity:.8; }
.mist-layer{ position:absolute; inset:-10% -10% -5% -10%; pointer-events:none; }
.mist-near{ background:
  radial-gradient(40% 20% at 20% 80%, rgba(136,180,161,.12), transparent 60%),
  radial-gradient(30% 16% at 85% 70%, rgba(90,160,200,.10), transparent 60%),
  radial-gradient(20% 20% at 60% 20%, rgba(255,255,255,.14), transparent 60%);
  filter: blur(10px) url(#fog-warp);
  will-change: transform, filter;
}
.mist-mid{ background:
  radial-gradient(35% 18% at 10% 30%, rgba(136,180,161,.08), transparent 60%),
  radial-gradient(25% 14% at 70% 40%, rgba(90,160,200,.08), transparent 60%);
  filter: blur(8px) url(#fog-warp);
  will-change: transform, filter;
}
.mist-far{ background:
  radial-gradient(30% 16% at 30% 10%, rgba(136,180,161,.06), transparent 60%),
  radial-gradient(20% 12% at 90% 10%, rgba(90,160,200,.06), transparent 60%);
  filter: blur(6px) url(#fog-warp);
  will-change: transform, filter;
}

/* Yukemuri puffs */
.yukemuri{ position:absolute; inset:0; pointer-events:none; z-index:0; overflow:hidden; filter: url(#goo-soft); }
.yukemuri .puff{
  position:absolute; bottom:-10px; left:0; width: var(--size, 120px); height: var(--size, 120px);
  background:
    radial-gradient(60% 55% at 50% 45%, rgba(255,255,255,.22), rgba(255,255,255,0) 65%),
    radial-gradient(60% 55% at 60% 60%, rgba(136,180,161,.10), rgba(136,180,161,0) 70%),
    radial-gradient(60% 55% at 40% 40%, rgba(90,160,200,.08), rgba(90,160,200,0) 75%);
  filter: blur(6px);
  border-radius: 50%; opacity:0; will-change: transform, opacity;
  transform: translate3d(0,20px,0) scale(.85);
  animation: puff-rise var(--dur, 4800ms) var(--ease) forwards;
}
/* Cloud bank (big drifting clouds) */
.cloud-bank{ position:absolute; inset:-10% -10% -10% -10%; pointer-events:none; z-index:0; overflow:hidden; }
.cloud-bank .cloud{
  position:absolute; top:0; left:0; width: var(--w, 420px); height: var(--h, 240px);
  border-radius: 50% / 60%; opacity: var(--o, .22);
  filter: blur(var(--blur, 24px)); will-change: transform, opacity;
  background:
    radial-gradient(ellipse at 35% 45%, rgba(255,255,255,.9), rgba(255,255,255,0) 65%),
    radial-gradient(ellipse at 65% 55%, rgba(255,255,255,.8), rgba(255,255,255,0) 70%),
    radial-gradient(ellipse at 50% 50%, rgba(136,180,161,.12), rgba(136,180,161,0) 70%),
    radial-gradient(ellipse at 50% 60%, rgba(90,160,200,.10), rgba(90,160,200,0) 80%);
  animation: cloud-drift var(--dur, 36s) linear infinite;
  animation-delay: var(--delay, 0ms);
}
@keyframes cloud-drift{
  0%{ transform: translate3d(var(--startX, -20%), var(--startY, 2%), 0) scale(var(--scale, 1)); }
  100%{ transform: translate3d(var(--endX, 120%), var(--endY, -6%), 0) scale(var(--scale, 1)); }
}

/* Cloud front (over text) */
.cloud-front{ position:absolute; inset:-10% -10% -10% -10%; pointer-events:none; z-index:3; overflow:hidden; }
.cloud-front .cloud{
  position:absolute; top:0; left:0; width: var(--w, 520px); height: var(--h, 300px);
  border-radius: 50% / 58%; opacity: var(--o, .18);
  filter: blur(var(--blur, 22px)); will-change: transform, opacity;
  background:
    radial-gradient(ellipse at 32% 48%, rgba(255,255,255,.9), rgba(255,255,255,0) 60%),
    radial-gradient(ellipse at 65% 55%, rgba(255,255,255,.85), rgba(255,255,255,0) 68%),
    radial-gradient(ellipse at 50% 60%, rgba(136,180,161,.10), rgba(136,180,161,0) 80%),
    radial-gradient(ellipse at 40% 40%, rgba(90,160,200,.08), rgba(90,160,200,0) 80%);
  animation: cloud-drift-front var(--dur, 24s) linear infinite;
  animation-delay: var(--delay, 0ms);
}
@keyframes cloud-drift-front{
  0%{ transform: translate3d(var(--startX, -28%), var(--startY, 6%), 0) scale(var(--scale, 1)); }
  100%{ transform: translate3d(var(--endX, 128%), var(--endY, 0%), 0) scale(var(--scale, 1)); }
}
/* Bokeh */
.bokeh{ position:absolute; inset:0; pointer-events:none; z-index:0; overflow:hidden; }
.bokeh .dot{
  position:absolute; width: var(--s, 24px); height: var(--s, 24px); border-radius: 999px;
  background: radial-gradient(circle at 30% 30%, rgba(136,180,161,.22), rgba(136,180,161,0) 70%);
  filter: blur(2px); opacity:.35; will-change: transform, opacity;
  animation: dot-float var(--d, 8s) var(--ease) infinite alternate;
}
@keyframes dot-float{
  0%{ transform: translate3d(0,0,0) scale(1); opacity:.25 }
  100%{ transform: translate3d(var(--tx, 14px), var(--ty, -26px), 0) scale(1.1); opacity:.4 }
}

/* Fog band (backdrop blur at bottom) */
.fog-band{ position:absolute; left:-5%; right:-5%; bottom:-5%; height: 45%; pointer-events:none; z-index:0;
  background: linear-gradient(180deg, rgba(255,255,255,.0) 0%, rgba(255,255,255,.6) 60%, rgba(255,255,255,.8) 100%);
  backdrop-filter: blur(6px); opacity:.8;
  -webkit-mask-image: linear-gradient(to top, black 40%, transparent 100%);
          mask-image: linear-gradient(to top, black 40%, transparent 100%);
}
@keyframes puff-rise {
  0%   { opacity:0; transform: translate3d(0, 20px, 0) scale(.85); }
  15%  { opacity:.28; }
  60%  { opacity:.22; }
  100% { opacity:0; transform: translate3d(var(--dx, 12px), -140px, 0) scale(1.15); }
}
@media (prefers-reduced-motion: reduce){
  .yukemuri .puff{ animation: none; display:none; }
}
.trust { display: flex; flex-wrap: wrap; list-style: none; padding: 0; margin: 16px 0 0; color: #C8C3B5; }
.trust li { margin-right: 16px; }

/* Sections */
.section { padding: 64px 0; }
.section.alt { background: #F7FAF9; }
.section h2 { font-size: 1.6rem; margin: 0 0 24px; }

/* Process diagram */
.process { display:none; margin: 18px 0 8px; }
.process-svg { width: 100%; height: auto; max-height: 220px; }
.process .process-line { stroke-dasharray: 1600; stroke-dashoffset: 1600; filter: drop-shadow(0 2px 6px rgba(2,8,20,.10)); }
#flow.reveal.is-in .process .process-line { animation: draw 1600ms var(--ease) forwards; }
@keyframes draw { to { stroke-dashoffset: 0; } }
.process .node { fill: #ffffff; stroke: url(#grad-flow); stroke-width: 4; filter: drop-shadow(0 4px 14px rgba(90,160,200,.18)); transform: scale(.8); opacity: 0; transition: transform 480ms var(--ease), opacity 480ms var(--ease); }
.process .label { font: 600 13px/1.2 "Noto Sans JP", system-ui, sans-serif; text-anchor: middle; fill: #0f172a; }
.process .label.sub { font-weight: 500; fill: #374151; }
#flow.reveal.is-in .process .step .node { opacity: 1; transform: scale(1); }
#flow.reveal.is-in .process .step:nth-of-type(1) .node { transition-delay: 120ms; }
#flow.reveal.is-in .process .step:nth-of-type(2) .node { transition-delay: 220ms; }
#flow.reveal.is-in .process .step:nth-of-type(3) .node { transition-delay: 320ms; }
#flow.reveal.is-in .process .step:nth-of-type(4) .node { transition-delay: 420ms; }
#flow.reveal.is-in .process .step:nth-of-type(5) .node { transition-delay: 520ms; }
#flow.reveal.is-in .process .step:nth-of-type(6) .node { transition-delay: 620ms; }

/* Grid & Cards */
.grid { display: grid; grid-template-columns: repeat(2, minmax(0, 1fr)); gap: 16px; }
.card { position:relative; background: var(--surface); border: 1px solid var(--line); border-radius: 12px; padding: 18px; box-shadow: 0 8px 30px rgba(2,8,20,.06); transition: transform var(--t-mid) var(--ease), box-shadow var(--t-mid) var(--ease), border-color var(--t-mid) var(--ease); overflow:hidden; }
/* metal corner accents */
.card{ background-image:
  linear-gradient(90deg, rgba(90,160,200,.6), rgba(90,160,200,0)),
  linear-gradient(0deg, rgba(90,160,200,.6), rgba(90,160,200,0)),
  linear-gradient(90deg, rgba(90,160,200,.6), rgba(90,160,200,0)),
  linear-gradient(0deg, rgba(90,160,200,.6), rgba(90,160,200,0));
  background-position:
  left 8px top 0, left 0 top 8px,
  right 8px bottom 0, right 0 bottom 8px;
  background-size: 16px 2px, 2px 16px, 16px 2px, 2px 16px;
  background-repeat: no-repeat;
}
.card::before{ content:""; position:absolute; inset:-50% -120% auto -120%; height:180%; background: linear-gradient(105deg, rgba(255,255,255,0) 10%, rgba(255,255,255,.35) 40%, rgba(255,255,255,0) 60%); transform: translate3d(-40%, -20%, 0) rotate(8deg); opacity:0; pointer-events:none; }
.card:hover{ transform: translateY(-3px); box-shadow: 0 14px 40px rgba(2,8,20,.12); border-color: rgba(90,160,200,.45); }
.card:hover::before{ animation: sheen 900ms var(--ease) forwards; }
@keyframes sheen{ from{ opacity:0; transform: translate3d(-60%, -20%, 0) rotate(8deg) } to{ opacity:1; transform: translate3d(60%, -20%, 0) rotate(8deg) } }
.card h3 { margin: 0 0 8px; font-size: 1.1rem; }
/* 3D tilt for cards */
.card.tilt{ will-change: transform; transform-style: preserve-3d; }
.card.tilt .tilt-shadow{ position:absolute; inset:0; border-radius:inherit; pointer-events:none; opacity:0; transition: opacity var(--t-fast) var(--ease); background: radial-gradient(120% 120% at var(--mx,50%) var(--my,50%), rgba(90,160,200,.16), transparent 60%); }
.card.tilt.is-tilting .tilt-shadow{ opacity:.35; }

/* Metrics */
.metric { font-family: "Zen Kaku Gothic New", "Noto Sans JP", sans-serif; font-size: clamp(28px, 5vw, 44px); color: var(--headline); font-weight:900; }

/* Reveal */
.reveal { opacity:0; transform: translateY(8px); transition: opacity var(--t-mid) var(--ease), transform var(--t-mid) var(--ease); }
.reveal.is-in { opacity:1; transform:none; }
/* Heading sheen on appear */
.section h2{ position:relative; display:inline-block; }
.section h2::after{
  content:""; position:absolute; inset:0; pointer-events:none;
  background: linear-gradient(110deg, transparent 20%, rgba(240,210,137,.45) 48%, transparent 75%);
  transform: translateX(-120%);
}
.reveal.is-in .section h2::after{ animation: shine-sweep 1400ms var(--ease) forwards; }
@keyframes shine-sweep{ to{ transform: translateX(120%); } }

/* Divider */
.divider-seigaiha{ height:40px; display:block; }
.divider-seigaiha svg{ width:100%; height:100%; }
.divider-seigaiha path{ stroke-dashoffset:160; animation: wave var(--t-slow) ease-in-out forwards; }
@keyframes wave { from{ opacity:.0; stroke-dashoffset:260 } to{ opacity:.9; stroke-dashoffset:0 } }
/* Divider pattern */
.divider-pattern{ height:60px; display:block; }
.divider-pattern svg{ width:100%; height:100%; }

/* Lists */
.steps { margin: 0; padding-left: 18px; color: #4B5563; }
.bullets { margin: 12px 0; padding-left: 18px; }
.bullets li{ opacity:0; transform: translateY(6px); transition: opacity var(--t-mid) var(--ease), transform var(--t-mid) var(--ease); }
.bullets li.is-in{ opacity:1; transform:none; }
.note { color: #6B7280; font-size: 0.95rem; }

/* FAQ */
.faq details { border: 1px solid var(--line); border-radius: 8px; padding: 10px 12px; background: #ffffff; margin-bottom: 10px; }

/* Contact */
.section.cta .contact-box { background: #ffffff; border: 1px solid var(--line); border-radius: 12px; padding: 16px; }
.form-row { display: flex; gap: 12px; }
label { display: block; font-weight: 700; color: var(--headline); }
input, textarea, select { width: 100%; margin-top: 6px; padding: 10px 12px; border: 1px solid #d1d5db; border-radius: 8px; font: inherit; background:#ffffff; color: var(--text); }
input:focus, textarea:focus, select:focus { outline: none; border-color: var(--accent); box-shadow: 0 0 0 3px rgba(90,160,200,.18); }
.form-actions { margin-top: 12px; display: flex; gap: 12px; align-items: center; }
.form-note { margin-top: 8px; color: #6B7280; font-size: 0.9rem; }
.calendar { margin-top: 24px; }
.calendar-embed { border: 1px solid var(--line); border-radius: 12px; overflow: hidden; }

/* Footer */
.site-footer { padding: 24px 0; border-top: 1px solid var(--line); color: #6B7280; background: #ffffff; }

/* Floating CTA (reserved) */

/* Cookie banner */
.cookie-banner { position: fixed; left:0; right:0; bottom:0; background:#F8FAFC; color:#0f172a; padding:12px 0; display:none; z-index: 30; border-top:1px solid var(--line); backdrop-filter: blur(8px); }
.cookie-banner .cookie-inner { display:flex; align-items:center; justify-content:space-between; gap:12px; }
.cookie-banner .cookie-actions .btn-outline { border-color:#1f2937; color:#1f2937; }
.cookie-banner .cookie-actions .btn-outline:hover { background:#e5eef3; }

/* Sticky CTA */
.sticky-cta{ position:fixed; left:0; right:0; bottom:0; display:none; z-index:25; padding:10px 14px; backdrop-filter: blur(10px); background: linear-gradient(to top, rgba(255,255,255,.96), rgba(255,255,255,.6)); border-top:1px solid var(--line); }
.sticky-cta .btn{ width:100%; animation: cta-breathe 3.2s ease-in-out infinite; }
@keyframes cta-breathe{ 0%,100%{ transform: translateY(0) scale(1) } 50%{ transform: translateY(-1px) scale(1.01) } }
@media (prefers-reduced-motion: reduce){ .sticky-cta .btn{ animation:none } }

/* Responsive */
@media (max-width: 800px) {
  .grid { grid-template-columns: 1fr; }
  .site-header .container { height: auto; padding: 12px 20px; }
  .nav { display: none; }
  .hero { padding: 56px 0 40px; }
  .form-row { flex-direction: column; }
  .sticky-cta{ display:block; }
  #flow .process { display:none; }
}

@media (prefers-reduced-motion: reduce){
  .btn-primary{ animation:none; }
  .steam{ display:none; }
}

@media (min-width: 801px) {
  #flow .process { display:block; }
}

/* Showcase (Gallery) */
.gallery-grid{ display:grid; grid-template-columns: repeat(3, minmax(0,1fr)); gap:16px; }
@media (max-width: 1000px){ .gallery-grid{ grid-template-columns: repeat(2, minmax(0,1fr)); } }
@media (max-width: 640px){ .gallery-grid{ grid-template-columns: 1fr; } }
.case-frame{ position:relative; border-radius:16px; overflow:hidden; box-shadow: 0 10px 30px rgba(2,8,20,.08);
  /* Subtle gradient ring */
  background: linear-gradient(#ffffff,#ffffff) padding-box,
              linear-gradient(135deg, rgba(136,180,161,.6), rgba(90,160,200,.6)) border-box;
  border: 1px solid transparent;
  transition: transform var(--t-mid) var(--ease), box-shadow var(--t-mid) var(--ease);
}
.case-frame:hover{ transform: translateY(-2px); box-shadow: 0 16px 40px rgba(2,8,20,.12); }
.case-frame img{ display:block; width:100%; height:auto; object-fit: contain; object-position: center top; background: linear-gradient(180deg,#f3f4f6,#e5e7eb); }
.case-frame figcaption{ padding:8px 10px; font-size:.95rem; color:#374151; background:#fff; border-top:1px solid var(--line); }
/* Top masking band with soft blur (hides account name area) */
.case-frame .name-cover{ position:absolute; left:0; right:0; top:0; height: var(--mask-top, 26%); pointer-events:none;
  /* Solid-to-transparent gradient to hide the header gracefully */
  background: linear-gradient(180deg, rgba(255,255,255,1) 0%, rgba(255,255,255,.88) 45%, rgba(255,255,255,.50) 78%, rgba(255,255,255,0) 100%);
  backdrop-filter: blur(6px) saturate(1.02);
  border-top-left-radius:16px; border-top-right-radius:16px;
  -webkit-mask-image: linear-gradient(180deg, black 88%, transparent 100%);
          mask-image: linear-gradient(180deg, black 88%, transparent 100%);
}
/* Steam haze on top (subtle motion) */
.case-frame .steam-haze{ display:none; }
/* No special fallback needed; solid mask already hides the area */
@media (prefers-reduced-motion: reduce){ .case-frame .steam-haze{ display:none; } }
